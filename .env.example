# ========================================
# ARTICHAT PROJECT CONFIGURATION
# ========================================
# Copy this file to .env and configure your values
# This file contains configuration for ALL services

# ========================================
# AI PROVIDERS (SHARED BY ALL SERVICES)
# ========================================

# Primary OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Optional: Azure OpenAI (set AZURE_OPENAI_ENABLED=true to use instead)
AZURE_OPENAI_ENABLED=false
AZURE_OPENAI_API_KEY=your_azure_openai_api_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Azure OpenAI Deployment Names
AZURE_OPENAI_EMBEDDINGS_DEPLOYMENT=text-embedding-3-small
AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-4o
AZURE_OPENAI_SUMMARY_DEPLOYMENT=gpt-4o-mini

# OpenAI Model Configuration (for regular OpenAI)
OPENAI_LLM_MODEL=gpt-4o-mini
OPENAI_SUMMARY_MODEL=gpt-4o-mini
OPENAI_EMBEDDINGS_MODEL=text-embedding-3-small

# ========================================
# BACKEND SERVICE CONFIGURATION
# ========================================
API_KEY=your-secure-api-key-here-change-in-production
SERVER_PORT=8080

# ========================================
# WORKER SERVICE CONFIGURATION
# ========================================

# Analysis Mode: 'deterministic' (fast, local and cheap) or 'llm' (LLM-powered)
ANALYSIS_MODE=deterministic

# LLM Configuration (only used when ANALYSIS_MODE=llm)
LLM_MAX_INPUT_CHARS=20000

# Text Processing
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Performance
MAX_CONCURRENT_JOBS=1
JOB_TIMEOUT_SECONDS=300

# ========================================
# SHARED INFRASTRUCTURE
# ========================================

# Redis Configuration
REDIS_ADDR=redis:6379
REDIS_URL=redis://redis:6379/0

# ChromaDB Configuration
CHROMA_HOST=http://chroma:8000
CHROMA_ARTICLES_COLLECTION=articles
CHROMA_CACHE_COLLECTION=query_cache

# RabbitMQ Configuration
RABBITMQ_PASSWORD=your-secure-rabbitmq-password-here
RABBITMQ_URI=amqp://rabbituser:${RABBITMQ_PASSWORD}@rabbitmq:5672/
RABBITMQ_QUEUE=article-ingestion

# ========================================
# OBSERVABILITY (OPTIONAL)
# ========================================
LANGFUSE_SECRET_KEY=test-secret
LANGFUSE_PUBLIC_KEY=test-public
LANGFUSE_HOST=http://langfuse-server:3000
# ========================================